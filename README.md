## ssl - Keychain Access
openssl version -a
openssl genrsa -out ssl_private.key 4096
openssl rsa -in ssl_private.key -pubout -out ssl_public.key
openssl req -new -key ssl_private.key -out ssl.csr
openssl x509 -req -days 365 -in ssl.csr -signkey ssl_private.key -out ssl.crt

# npm run format
## nest g resource name
# npm install prisma --save-dev
# npx prisma
# npx prisma init
# npx prisma migrate dev --name init
# npm install @prisma/client
# npx prisma studio
# npx prisma generate
## "seed": "ts-node prisma/seed.ts"
## yarn seed
### CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

<!-- mongo -->
# npx prisma db push

$ nest g module auth
$ nest g controller auth
$ nest g service auth

###
npx prisma validate 
npx prisma generate   

# Docker
docker build -t tpa-nest-service:1.0.0 --platform linux/amd64 .
docker tag tpa-nest-service:1.0.0 swbank/docnaja:tpa-nest-service-1
docker push swbank/docnaja:tpa-nest-service-1

npm pack

% npx prisma migrate dev --name menutsookss
% docker build -t backend-tpa-master-sit:290 --platform linux/amd64 .

% Submission failed,The contract has not yet started.


% // kamonchanok@nueamek.com tso 71
% // "id": 61,
% // "id_name": "TSO_PTT-001",
% // "name": "PTT Group-Gas",
% // eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjcxLCJmaXJzdF9uYW1lIjoiS2Ftb25jaGFub2siLCJsYXN0X25hbWUiOiJTcmljaGFpdGh1bXJvbmciLCJ1c2VybmFtZSI6ImthbW9uY2hhbm9rQG51ZWFtZWsuY29tIiwidHlwZSI6ImFjY2VzcyIsImlhdCI6MTc1MzA2NjExNSwiZXhwIjoxNzUzMTUyNTE1fQ.9Izom8YZV48iG2X4aqiaB7gbUzeT_DMNpdqy9z_yJ4E

% // kamon.kunn@gmail.com shipper 76
% // "id": 63,
% // "id_name": "BGRIMM-001-1",
% // "name": "B.GRIMM",
% // eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjc2LCJmaXJzdF9uYW1lIjoiS2Ftb24iLCJsYXN0X25hbWUiOiJTaGlwcGVyIiwidXNlcm5hbWUiOiJrYW1vbi5rdW5uQGdtYWlsLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTMwNjU3MzUsImV4cCI6MTc1MzE1MjEzNX0.Omc0KWE6DtAscTOv8jFBofJFXeLgfXTW-68ZU3wpr24

% 
% 2025-CNT-N001
% 2025-07-01 00:00:00 | 2025-10-01 00:00:00
% 2025-CNF-002
% 2025-01-01 00:00:00 | 2025-04-01 00:00:00
% 2016-CLF-001

% 2025-CST-U005 2025-06-18 00:00:00 | 2025-09-18 00:00:00
% 2025-CNF-001

% EGAT-001-1
% NGP-S17-002
% NGP-S16-001

% komliverpool@gmail.com —> 99989 shipper อยู่ EGAT (id_name = EGAT-001-1)
% "id": 62,
% "id_name": "EGAT-001-1", saraban-egat@egat.co.th teerapong.songsan@gmail.com
% "name": "EGAT",
% eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjk5OTg5LCJmaXJzdF9uYW1lIjoiRGV2ayIsImxhc3RfbmFtZSI6IlNoaXBwZXIiLCJ1c2VybmFtZSI6ImtvbWxpdmVycG9vbEBnbWFpbC5jb20iLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU2MDkwMjgzLCJleHAiOjE3NTYxNzY2ODN9.AUrMnhnYC_XAozmMgYUzF2DV8HoW8_9J5CW9DwjVcQY

% komtso@gmail.com tso 99988
%  "id": 65,
% "id_name": "TSO_PTT_S1", komphakawat@gmail.com
% "name": "PTT TSO",
% eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjk5OTg4LCJmaXJzdF9uYW1lIjoiRGV2SyIsImxhc3RfbmFtZSI6IlRTTyIsInVzZXJuYW1lIjoia29tdHNvQGdtYWlsLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTYwOTAyNDcsImV4cCI6MTc1NjE3NjY0N30.uzuJBHeQ3xxWG6JbfF4Z3i-gfZyzMq_EutjdqpYWkSw


% eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjcxLCJmaXJzdF9uYW1lIjoiS2Ftb25jaGFub2siLCJsYXN0X25hbWUiOiJTcmljaGFpdGh1bXJvbmciLCJ1c2VybmFtZSI6ImthbW9uY2hhbm9rQG51ZWFtZWsuY29tIiwidHlwZSI6ImFjY2VzcyIsImlhdCI6MTc1NDczMjcwMSwiZXhwIjoxNzU0ODE5MTAxfQ.A78RiNxDnWv0_OzWa6L51SzAurJAUx5-kCuov1zZ5AE

จุดส่งเข้าที่เกิดเหตุ | input_delivery_point_at_the_scene
วัน/เวลาที่เกิดเหตุ | input_date_time_of_the_incident
ประเภทและค่าของคุณภาพก๊าซไม่อยู่ในข้อกำหนดคุณภาพก๊าซ | input_gas_quality_is_not_in_the_gas_quality_requirements
เพิ่มเติม | input_more
สาเหตุที่ทำให้ก๊าซไม่อยู่ในข้อกำหนดคุณภาพก๊าซ | input_reason_that_the_gas_is_not_in_the_gas_quality_requirements
ระยะเวลาที่คาดว่าจะแก้ไขแล้วเสร็จ | input_duration_that_is_expected_to_be_completed
หมายเหตุ | input_note

https://www.f0nt.com/release/th-sarabun-new
แปลง 
% base64 -i THSarabunNew.ttf -o THSarabunNew.ttf.base64
% base64 -i THSarabunNew-Bold.ttf -o THSarabunNew-Bold.ttf.base64

base64 -i "THSarabunNew.ttf" -o "THSarabunNew.ttf.base64"
base64 -i "THSarabunNew Bold.ttf" -o "THSarabunNew-Bold.ttf.base64"
base64 -i "THSarabunNew Italic.ttf" -o "THSarabunNew-Italic.ttf.base64"
base64 -i "THSarabunNew BoldItalic.ttf" -o "THSarabunNew-BoldItalic.ttf.base64"

base64 < "logo-ptt.png" > "logo-ptt.base64"

base64 < "used.png" > "used.base64"

base64 < "not-used.png" > "not-used.base64"

นำค่าจาก .base64 ใส่ในไฟล์ vfs_fonts.ts แบบนี้:
// src/fonts/vfs_fonts.ts

npm install --save-dev electron-rebuild
npx electron-rebuild

% ให้ tso
% ใช้ shipper


# trariff

run trariff

month/year change 
shipper 1 active ในช่วงเวลานั้น ค่อมเดือนเลือกได้

เริ่มแล้ว ไม่ต้องรอ process

ได้ 2 record A, B เลขรันตามวัน 
timestamp ตามที่กด


shipper จะเห็น invoice send yes

invoice send 

shipper ไม่มี contract error ไม่ save

quatity oparity มาจาก edit

Co-eff มีแค่ capacity overuse charge X


lsof -i tcp:50051
netstat -vanp tcp | grep 50051
kill -9 <PID>
% 
sudo lsof -i :50051
kill -9 5187

% 5187